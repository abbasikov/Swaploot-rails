<div class="px-5 py-3">
<div class="flex">
    <h2 class="text-2xl mb-4 text-blue dark:text-white font-[500]">Items Sold</h2>
    <i class="fa fa-refresh text-blue dark:text-white" aria-hidden="true"></i>
</div>
<div>
<table id="dataTableItemsSold" class="display shadow-md rounded-lg mt-10" style="width:100%; border: none;">

    <thead class="bg-blue text-white">
        <tr>
            <th class="border-r border-r-[#acadaf9c] text-sm px-4 py-2 rounded-tl-lg">Item ID</th>
            <th class="border-r border-r-[#acadaf9c] text-sm px-4 py-2">Item Name</th>
            <th class="border-r border-r-[#acadaf9c] text-sm px-4 py-2">Bought Price</th>
            <th class="border-r border-r-[#acadaf9c] text-sm px-4 py-2">Sold Price</th>
            <th class="border-r border-r-[#acadaf9c] text-sm px-4 py-2">Profit</th>
            <th class="border-r border-r-[#acadaf9c] text-sm px-4 py-2">Profit (%)</th>
            <th class="text-sm px-4 py-2 rounded-tr-lg">Date</th>
        </tr>
    </thead>
    <tbody>
        <% @items_sold.each do |sold_item| %>
            <tr>
                <td class="border-r border-r-[#acadaf9c] text-sm text-center px-4 py-2"><%= sold_item.item_id %></td>
                <td class="border-r border-r-[#acadaf9c] text-sm text-center px-4 py-2"><%= sold_item.item_name %></td>
                <td class="border-r border-r-[#acadaf9c] text-sm text-center px-4 py-2"><%= sold_item.bought_price %></td>
                <td class="border-r border-r-[#acadaf9c] text-sm text-center px-4 py-2"><%= sold_item.sold_price  %></td>
                <td class="border-r border-r-[#acadaf9c] text-sm text-center px-4 py-2"><%= sold_item.sold_price - sold_item.bought_price %></td>
                <td class="border-r border-r-[#acadaf9c] text-sm text-center px-4 py-2"><%= (((sold_item.sold_price - sold_item.bought_price)/sold_item.bought_price) * 100).round(2) %></td>
                <td class="border-r border-r-[#acadaf9c] text-sm text-center px-4 py-2"><%= sold_item.date %></td>
            </tr>
        <% end %>
    </tbody>
</table>
    <div class="apple_pagination flex justify-center justify-between">
  <div class="page_info">
    <%= page_entries_info @items_sold %>
  </div>
  <div>
    <%= will_paginate @items_sold, 
        previous_label: 'Previous', 
        next_label: 'Next',
        inner_window: 3,
        outer_window: 1,
        renderer: WillPaginate::ActionView::LinkRenderer,
        class: 'flex items-center space-x-2'
    %>
  </div>
</div>
</div>

<script>
    $(document).ready(function() {
        const searchInputs = document.querySelectorAll('input[type="search"]');
        searchInputs.forEach(function(input) {
            input.style.marginBottom = '10px';
        });

        var elements = document.querySelectorAll('.dataTables_length');
        for (var i = 0; i < elements.length; i++) {
            elements[i].parentNode.removeChild(elements[i]);
        }
    });


function submitForm() {
            document.getElementById("postForm").submit();
        }

        $('#dataTableItemsSold').DataTable({ 
            paging: false,
            info: false,
            language: {
        search: "_INPUT_",
        searchPlaceholder: "Search...",
      }});
</script>







